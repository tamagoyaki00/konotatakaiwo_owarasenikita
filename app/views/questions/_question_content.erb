<h1 class="text-3xl font-extrabold mb-4"><%= question.title %></h1>

<div class="mb-6">
  <div class="space-y-4">
    <div id="voting-section">
      <%= render 'options_with_results', question: question, current_user: current_user %>
    </div>

    <div class="flex items-center space-x-3 mt-8 pt-4 border-t border-gray-200">
      <img src="<%= question.user.google_image_url %>" alt="<%= question.user.name %>" class="w-10 h-10 rounded-full">
      <span class="font-md"><%= t('.creater')%>: <%= @question.user.name %></span>

      <div class="ml-auto flex items-center space-x-2">
        <% if question.user == current_user %>
          <% if @question.editable? %>
              <%= link_to edit_question_path(question), data: { turbo_frame: "question_#{question.id}" }, class: "text-gray-500 hover:text-gray-900" do%>
                <%= t('.edit') %><i class="fa-solid fa-pen-to-square"></i>
              <% end %>
              <%= button_to question_path(question), method: :delete, form: { data: { turbo_confirm: t('.delete_confirm'), turbo_frame: '_top'}}, class: "text-red-500 hover:text-red-700" do%>
                <%= t('.destroy')%><i class="fa-solid fa-trash"></i>
              <% end %>
          
          <% elsif @question.has_responses? %>
              <p><%= t('.cannot_edit_due_to_replies')%></p>
              <%= button_to question_path(question), method: :delete, form: { data: { turbo_confirm: t('.delete_confirm'), turbo_frame: '_top'}}, class: "text-red-500 hover:text-red-700" do%>
                <%= t('.destroy')%><i class="fa-solid fa-trash"></i>
              <% end %>
          <% end %>
        <% else %>
        <% end %>
      </div>
    </div>
  </div>
</div>