<div class="max-w-[1400px] mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8">
  <div class="flex flex-col lg:flex-row gap-6 lg:gap-16">

    <div class="flex-grow lg:w-2/3 mb-8 lg:mb-0">
      <div class="bg-white shadow-lg rounded-lg p-6 mb-6 border border-gray-200">
        <%= turbo_frame_tag "question_#{@question.id}" do %>
          <%= render 'question_content', question: @question, current_user: current_user %>
        <% end %>
      </div>
      <div class="text-center mt-4">
        <%= link_to t('.return_index'), questions_path, class: "text-blue-500 hover:underline" %>
      </div>
    </div>

    <div class="lg:w-1/3">
      <div class="bg-white shadow-lg rounded-lg p-6 border border-gray-200">
        <h2 class="text-2xl font-bold mb-4">己の意見を主張しよう</h2>
        <%= render 'opinions/form', question: @question, opinion: @opinion %>

        <div class="opinions-container max-h-116 overflow-y-auto">
          <%= turbo_frame_tag "opinions-page-#{@opinions.current_page}" do %>
            <div id="table-opinion" class="space-y-6">
              <%= render @opinions %>
            </div>

            <% if @opinions.next_page %>
              <%= turbo_frame_tag "opinions-page-#{@opinions.next_page}",
                  loading: :lazy,
                  src: question_path(@question, page: @opinions.next_page) %>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>

  </div>
</div>